import{e as S,f as n,L as x,o as f,g as B,M as D,u as l,c as V,w as t,h as e,S as u,T as z,N as I,U as $,F as E,p as M,k as U,i,V as F}from"./vendor.2c85bd1e.js";import{_ as A,r as g,N as v}from"./index.917c111f.js";import{u as P}from"./client.cb3ec19c.js";import"./index.cefb1522.js";import"./interceptor.bb9bfcba.js";const c=a=>(M("data-v-4226d5a2"),a=a(),U(),a),T=c(()=>i("h2",null,"List clients",-1)),j=c(()=>i("span",null,"New",-1)),q=c(()=>i("span",null,"Update",-1)),G=c(()=>i("span",null,"Delete",-1)),H={setup(a){const d=P(),m=S({isLoading:!0});d.fetchClientList().then(()=>{m.isLoading=!1});const C=()=>{g.push({path:"/dashboard/sales-management/clients/new"})},w=o=>{g.push({path:`/dashboard/sales-management/clients/${o.id}/edit`})},b=o=>{F.confirm("Are you sure to delete this client?").then(()=>{d.deleteClient(o.id).then(()=>v.notifySuccess("Client deleted")).catch(()=>v.notifyError("Could not delete client"))}).catch(()=>null)};return(o,h)=>{const s=n("el-table-column"),r=n("el-icon"),_=n("el-button"),k=n("el-button-group"),y=n("el-table"),L=x("loading");return f(),B(E,null,[T,D((f(),V(y,{class:"resize-and-center-data-table","row-key":"id",data:l(d).clients},{default:t(()=>[e(s,{width:"80",prop:"id",label:"#"}),e(s,{prop:"name",label:"Name"}),e(s,{prop:"legal_document_code",label:"Legal Document"}),e(s,{width:"180"},{header:t(()=>[e(_,{class:"align-content-right",type:"primary",size:"small",onClick:h[0]||(h[0]=u(p=>C(),["prevent"]))},{default:t(()=>[e(r,null,{default:t(()=>[e(l(z))]),_:1}),j]),_:1})]),default:t(p=>[e(k,{class:"align-content-right"},{default:t(()=>[e(_,{size:"small",onClick:u(N=>w(p.row),["prevent"])},{default:t(()=>[e(r,null,{default:t(()=>[e(l(I))]),_:1}),q]),_:2},1032,["onClick"]),e(_,{type:"danger",size:"small",onClick:u(N=>b(p.row),["prevent"])},{default:t(()=>[e(r,null,{default:t(()=>[e(l($))]),_:1}),G]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[L,l(m).isLoading]])],64)}}};var W=A(H,[["__scopeId","data-v-4226d5a2"]]);export{W as default};
