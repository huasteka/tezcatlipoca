import{u as E}from"./storage.be6d3a79.js";import{_ as T,r as W}from"./index.917c111f.js";import{r as A,e as g,f as o,o as s,c as f,w as a,h as t,u,g as h,W as I,i as B,t as d,l as _,F as L,B as G,s as H}from"./vendor.2c85bd1e.js";const J={code:[{required:!0,message:"Please, input the code",trigger:"blur"},{min:2,message:"Must have at least 2 characters",trigger:"blur"},{max:5,message:"Must have less than 5 characters",trigger:"blur"}],name:[{required:!0,message:"Please, input the name",trigger:"blur"}],input_measure_unit_id:[{required:!0,message:"Please, select an input measurement unit",trigger:"blur"}],input_quantity:[{required:!0,message:"Please, input the quantity",trigger:"blur"},{type:"number",min:1,message:"Must be greater than zero",trigger:"blur"}],output_measure_unit_id:[{required:!0,message:"Please, select an output measurement unit",trigger:"blur"}],output_quantity:[{required:!0,message:"Please, input the quantity",trigger:"blur"},{type:"number",min:1,message:"Must be greater than zero",trigger:"blur"}]};const K=_("Back"),X=_("Submit"),Y={props:{item:Object},emits:["submit"],setup(P,{emit:$}){const w=P,p=E(),{id:C=null,name:M="",code:N="",input_measure_unit:b=null,input_quantity:O=0,output_measure_unit:y=null,output_quantity:z=0}=w.item||{},V=A(),n=g({id:C,name:M,code:N,input_measure_unit_id:b!==null?""+b.id:null,input_quantity:parseFloat(O),output_measure_unit_id:y!==null?""+y.id:null,output_quantity:parseFloat(z)}),Q=g(J),c=g({isLoading:!0});p.fetchMeasureUnitList().then(()=>c.isLoading=!1);const R=()=>W.push({path:"/dashboard/storage-management/items"}),j=i=>{!i||i.validate(l=>{if(!l)return!1;$("submit",i.model)})};return(i,l)=>{const q=o("el-input"),r=o("el-form-item"),v=o("el-tag"),x=o("el-option"),k=o("el-select"),m=o("el-col"),U=o("el-input-number"),F=o("el-row"),S=o("el-button"),D=o("el-form");return s(),f(D,{"label-width":"130px",ref_key:"createItemFormRef",ref:V,model:u(n),rules:u(Q)},{default:a(()=>[t(r,{label:"Name",prop:"name"},{default:a(()=>[t(q,{modelValue:u(n).name,"onUpdate:modelValue":l[0]||(l[0]=e=>u(n).name=e)},null,8,["modelValue"])]),_:1}),t(r,{label:"Code",prop:"code"},{default:a(()=>[t(q,{class:"small-form-input",modelValue:u(n).code,"onUpdate:modelValue":l[1]||(l[1]=e=>u(n).code=e)},null,8,["modelValue"])]),_:1}),t(F,{gutter:15},{default:a(()=>[t(m,{xs:24,sm:12,md:10},{default:a(()=>[t(r,{label:"Input Unit",prop:"input_measure_unit_id"},{default:a(()=>[t(k,{placeholder:"Select a measurement unit",modelValue:u(n).input_measure_unit_id,"onUpdate:modelValue":l[2]||(l[2]=e=>u(n).input_measure_unit_id=e),loading:u(c).isLoading},{default:a(()=>[(s(!0),h(L,null,I(u(p).measureUnits,e=>(s(),f(x,{key:e.id,label:`${e.name} (${e.acronym})`,value:e.id},{default:a(()=>[B("span",null,d(e.name),1),t(v,{class:"select-option-icon-position"},{default:a(()=>[_(d(e.acronym),1)]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),_:1}),t(m,{xs:24,sm:12,md:14},{default:a(()=>[t(r,{label:"Input Quantity",prop:"input_quantity"},{default:a(()=>[t(U,{class:"small-form-input",min:0,modelValue:u(n).input_quantity,"onUpdate:modelValue":l[3]||(l[3]=e=>u(n).input_quantity=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(F,{gutter:15},{default:a(()=>[t(m,{xs:24,sm:12,md:10},{default:a(()=>[t(r,{label:"Output Unit",prop:"output_measure_unit_id"},{default:a(()=>[t(k,{placeholder:"Select a measurement unit",modelValue:u(n).output_measure_unit_id,"onUpdate:modelValue":l[4]||(l[4]=e=>u(n).output_measure_unit_id=e),loading:u(c).isLoading},{default:a(()=>[(s(!0),h(L,null,I(u(p).measureUnits,e=>(s(),f(x,{key:e.id,label:`${e.name} (${e.acronym})`,value:e.id},{default:a(()=>[B("span",null,d(e.name),1),t(v,{class:"select-option-icon-position"},{default:a(()=>[_(d(e.acronym),1)]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1})]),_:1}),t(m,{xs:24,sm:12,md:14},{default:a(()=>[t(r,{label:"Output Quantity",prop:"output_quantity"},{default:a(()=>[t(U,{class:"small-form-input",min:0,modelValue:u(n).output_quantity,"onUpdate:modelValue":l[5]||(l[5]=e=>u(n).output_quantity=e)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(r,null,{default:a(()=>[t(S,{icon:u(G),onClick:l[6]||(l[6]=e=>R())},{default:a(()=>[K]),_:1},8,["icon"]),t(S,{type:"primary",icon:u(H),onClick:l[7]||(l[7]=e=>j(V.value))},{default:a(()=>[X]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])}}};var ae=T(Y,[["__scopeId","data-v-b030ca96"]]);export{ae as S};
