var p=Object.defineProperty;var i=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var n=(o,t,e)=>t in o?p(o,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[t]=e,c=(o,t)=>{for(var e in t||(t={}))f.call(t,e)&&n(o,e,t[e]);if(i)for(var e of i(t))h.call(t,e)&&n(o,e,t[e]);return o};import{_}from"./StorageForm.54409ca6.js";import{r as v,N as S}from"./index.917c111f.js";import{u as L}from"./storage.be6d3a79.js";import{e as N,L as b,o as d,g,M as B,u as F,h as I,F as k,i as x}from"./vendor.2c85bd1e.js";import"./interceptor.bb9bfcba.js";const y=x("h2",null,"Append storage",-1),M={props:{storageId:Number},setup(o){const t=o,e=L(),a=N({storage:null,isLoading:!0});e.fetchOneStorage(t.storageId).then(()=>{a.isLoading=!1,a.storage=e.selectedStorage});const l=r=>{a.isLoading=!0,e.createNestedStorage(c({parentId:a.storage.id},r)).then(()=>v.push({path:"/dashboard/storage-management/storages"})).catch(()=>S.notifyError("Could not append storage")).finally(()=>a.isLoading=!1)};return(r,s)=>{const m=b("loading");return d(),g(k,null,[y,B((d(),g("div",null,[I(_,{onSubmit:s[0]||(s[0]=u=>l(u))})])),[[m,F(a).isLoading]])],64)}}};export{M as default};
