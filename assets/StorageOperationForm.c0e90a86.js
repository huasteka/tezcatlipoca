import{u as B}from"./storage.be6d3a79.js";import{_ as P}from"./index.917c111f.js";import{e as c,r as C,f as s,L as D,M as I,u as t,o as u,c as p,w as o,h as a,g as L,W as S,i as V,t as _,l as g,F,s as N}from"./vendor.2c85bd1e.js";const U={storage_id:[{required:!0,message:"Please, select a storage",trigger:"blur"}],item_id:[{required:!0,message:"Please, select an item",trigger:"blur"}],quantity:[{required:!0,message:"Please, input the quantity",trigger:"blur"},{type:"number",min:1,message:"Must be greater than zero",trigger:"blur"}]};const M=g("Submit"),R={emits:["submit"],setup(z,{emit:q}){const m=B(),n=c({isLoading:!0,storageList:[],itemList:[]});Promise.all([m.fetchStorageList(),m.fetchItemList()]).then(()=>{n.isLoading=!1,n.storageList=m.storages,n.itemList=m.items});const f=C(),r=c({storage_id:null,item_id:null,quantity:0}),k=c(U),x=i=>{!i||i.validate(l=>{if(!l)return!1;q("submit",{model:i.model,clearForm:i.resetFields})})};return(i,l)=>{const b=s("el-tag"),v=s("el-option"),y=s("el-select"),d=s("el-form-item"),h=s("el-input-number"),O=s("el-button"),$=s("el-form"),w=D("loading");return I((u(),p($,{"label-width":"130px",ref_key:"createOperationFormRef",ref:f,model:t(r),rules:t(k)},{default:o(()=>[a(d,{label:"Storage",prop:"storage_id"},{default:o(()=>[a(y,{placeholder:"Select a storage",modelValue:t(r).storage_id,"onUpdate:modelValue":l[0]||(l[0]=e=>t(r).storage_id=e)},{default:o(()=>[(u(!0),L(F,null,S(t(n).storageList,e=>(u(),p(v,{key:e.id,label:`${e.name} (${e.code})`,value:e.id},{default:o(()=>[V("span",null,_(e.name),1),a(b,{class:"select-option-icon-position"},{default:o(()=>[g(_(e.code),1)]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Item",prop:"item_id"},{default:o(()=>[a(y,{placeholder:"Select an item",modelValue:t(r).item_id,"onUpdate:modelValue":l[1]||(l[1]=e=>t(r).item_id=e)},{default:o(()=>[(u(!0),L(F,null,S(t(n).itemList,e=>(u(),p(v,{key:e.id,label:`${e.name} (${e.code})`,value:e.id},{default:o(()=>[V("span",null,_(e.name),1),a(b,{class:"select-option-icon-position"},{default:o(()=>[g(_(e.code),1)]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"Quantity",prop:"quantity"},{default:o(()=>[a(h,{class:"small-form-input",min:0,modelValue:t(r).quantity,"onUpdate:modelValue":l[2]||(l[2]=e=>t(r).quantity=e)},null,8,["modelValue"])]),_:1}),a(d,null,{default:o(()=>[a(O,{type:"primary",icon:t(N),onClick:l[3]||(l[3]=e=>x(f.value))},{default:o(()=>[M]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])),[[w,t(n).isLoading]])}}};var W=P(R,[["__scopeId","data-v-0eeb4021"]]);export{W as S};
