var M=Object.defineProperty;var n=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var p=(s,i,e)=>i in s?M(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e,c=(s,i)=>{for(var e in i||(i={}))f.call(i,e)&&p(s,e,i[e]);if(n)for(var e of n(i))g.call(i,e)&&p(s,e,i[e]);return s};var v=(s,i)=>{var e={};for(var a in s)f.call(s,a)&&i.indexOf(a)<0&&(e[a]=s[a]);if(s!=null&&n)for(var a of n(s))i.indexOf(a)<0&&g.call(s,a)&&(e[a]=s[a]);return e};import{S as N}from"./SalesMerchandiseForm.5f37e0f2.js";import{N as S,r as y}from"./index.917c111f.js";import{u as b}from"./merchandise.276d617b.js";import{e as F,L as k,o as d,g as m,M as B,u as h,h as V,Q as x,F as C,i as D}from"./vendor.2c85bd1e.js";import"./product.29f2b8be.js";import"./index.cefb1522.js";import"./interceptor.bb9bfcba.js";const E=D("h2",null,"Update merchandise",-1),I={key:0},z={props:{merchandiseId:Number},setup(s){const i=s,e=b(),a=F({merchandise:null,isLoading:!0});e.fetchOneMerchandise(i.merchandiseId).then(()=>{a.isLoading=!1,a.merchandise=e.merchandiseWithRelationships});const _=l=>{var u=l,{product_id:o,product:r}=u,t=v(u,["product_id","product"]);const L=c(o?{product_id:o}:{product:r},t);a.isLoading=!0,e.updateMerchandise(L).then(()=>{S.notifySuccess("Merchandise updated"),y.push({path:"/dashboard/sales-management/merchandises"})}).catch(()=>S.notifyError("Could not update merchandise")).finally(()=>a.isLoading=!1)};return(o,r)=>{const t=k("loading");return d(),m(C,null,[E,B((d(),m("div",null,[h(a).merchandise!==null?(d(),m("div",I,[V(N,{merchandise:h(a).merchandise,onSubmit:r[0]||(r[0]=l=>_(l))},null,8,["merchandise"])])):x("",!0)])),[[t,h(a).isLoading]])],64)}}};export{z as default};
