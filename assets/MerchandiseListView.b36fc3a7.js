import{e as x,f as n,L as B,o as f,g as V,M as z,u as o,c as D,w as t,h as e,S as u,T as I,N as $,U as E,F as U,p as F,k as R,i,V as A}from"./vendor.2c85bd1e.js";import{C as v}from"./currencyFormatter.f80cc1e2.js";import{_ as T,r as g,N as b}from"./index.917c111f.js";import{u as j}from"./merchandise.276d617b.js";import"./index.cefb1522.js";import"./interceptor.bb9bfcba.js";const l=r=>(F("data-v-00dec68e"),r=r(),R(),r),q=l(()=>i("h2",null,"List merchandises",-1)),G=l(()=>i("span",null,"New",-1)),H=l(()=>i("span",null,"Update",-1)),J=l(()=>i("span",null,"Delete",-1)),K={setup(r){const c=j(),h=x({isLoading:!0});c.fetchMerchandiseList().then(()=>{h.isLoading=!1});const w=a=>v.format(a.retail_price),M=a=>v.format(a.purchase_price),k=()=>{g.push({path:"/dashboard/sales-management/merchandises/new"})},y=a=>{g.push({path:`/dashboard/sales-management/merchandises/${a.id}/edit`})},C=a=>{A.confirm("Are you sure to delete this merchandise?").then(()=>{c.deleteMerchandise(a.id).then(()=>b.notifySuccess("Merchandise deleted")).catch(()=>b.notifyError("Could not delete merchandise"))}).catch(()=>null)};return(a,m)=>{const s=n("el-table-column"),d=n("el-icon"),p=n("el-button"),S=n("el-button-group"),L=n("el-table"),P=B("loading");return f(),V(U,null,[q,z((f(),D(L,{class:"resize-and-center-data-table","row-key":"id",data:o(c).merchandises},{default:t(()=>[e(s,{width:"100",prop:"id",label:"#"}),e(s,{prop:"product.name",label:"Product"}),e(s,{prop:"retail_price",label:"Retail Price",formatter:w}),e(s,{prop:"purchase_price",label:"Purchase Price",formatter:M}),e(s,{width:"200"},{header:t(()=>[e(p,{class:"align-content-right",type:"primary",size:"small",onClick:m[0]||(m[0]=u(_=>k(),["prevent"]))},{default:t(()=>[e(d,null,{default:t(()=>[e(o(I))]),_:1}),G]),_:1})]),default:t(_=>[e(S,{class:"align-content-right"},{default:t(()=>[e(p,{size:"small",onClick:u(N=>y(_.row),["prevent"])},{default:t(()=>[e(d,null,{default:t(()=>[e(o($))]),_:1}),H]),_:2},1032,["onClick"]),e(p,{type:"danger",size:"small",onClick:u(N=>C(_.row),["prevent"])},{default:t(()=>[e(d,null,{default:t(()=>[e(o(E))]),_:1}),J]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[P,o(h).isLoading]])],64)}}};var ee=T(K,[["__scopeId","data-v-00dec68e"]]);export{ee as default};
