import{_ as L,r as j}from"./index.917c111f.js";import{r as z,e as f,f as p,o as i,c as b,w as a,h as o,u as e,g as C,F as E,W as O,$ as Q,Q as h,U as W,B as G,T as H,s as J,l as V}from"./vendor.2c85bd1e.js";const K={name:[{required:!0,message:"Please, input the name",trigger:"blur"},{min:3,message:"Must have at least 3 characters",trigger:"blur"}],legal_document_code:[{required:!0,message:"Please, input the legal document",trigger:"blur"}]},X={phone:[{required:!0,message:"Please, input the phone",trigger:"blur"}],address:[{required:!0,message:"Please, input the address",trigger:"blur"}],postal_code:[{required:!0,message:"Please, input the postal code",trigger:"blur"}],city:[{required:!0,message:"Please, input the city",trigger:"blur"}],region:[{required:!0,message:"Please, input the state/province",trigger:"blur"}],country:[{required:!0,message:"Please, input the country",trigger:"blur"}]};const Y={key:0},Z=V("Delete Contact"),I=V("Back"),x=V("Add Contact"),ee=V("Submit"),te={props:{client:Object},emits:["submit"],setup($,{emit:P}){const q=$,{id:F=null,name:S="",legal_document_code:B="",contacts:y=[]}=q.client||{},v=z(),t=f({id:F,name:S,legal_document_code:B,contacts:y}),k=f(K),m=f(X),_=f({hasContacts:y.length>0}),U=()=>{t.contacts.push({phone:"",address:"",address_complement:"",postal_code:"",city:"",region:"",country:""})},w=u=>{if(t.contacts[u].id){t.contacts[u].deletionMarked=!0;return}t.contacts.splice(u,1),t.contacts.length===0&&(_.hasContacts=!1)},M=u=>{if(u){U();return}t.contacts=[]},N=()=>j.push({path:"/dashboard/sales-management/clients"}),R=u=>{!u||u.validate(s=>{if(!s)return!1;P("submit",u.model)})};return(u,s)=>{const d=p("el-input"),r=p("el-form-item"),T=p("el-switch"),A=p("el-badge"),g=p("el-button"),D=p("el-form");return i(),b(D,{"label-width":"160px",ref_key:"createClientFormRef",ref:v,model:e(t)},{default:a(()=>[o(r,{label:"Name",prop:"name",rules:e(k).name},{default:a(()=>[o(d,{modelValue:e(t).name,"onUpdate:modelValue":s[0]||(s[0]=c=>e(t).name=c)},null,8,["modelValue"])]),_:1},8,["rules"]),o(r,{label:"Legal Document",prop:"legal_document_code",rules:e(k).legal_document_code},{default:a(()=>[o(d,{modelValue:e(t).legal_document_code,"onUpdate:modelValue":s[1]||(s[1]=c=>e(t).legal_document_code=c)},null,8,["modelValue"])]),_:1},8,["rules"]),o(r,{label:"Contacts"},{default:a(()=>[o(T,{modelValue:e(_).hasContacts,"onUpdate:modelValue":s[2]||(s[2]=c=>e(_).hasContacts=c),onChange:s[3]||(s[3]=c=>M(c))},null,8,["modelValue"])]),_:1}),e(_).hasContacts?(i(),C("div",Y,[(i(!0),C(E,null,O(e(t).contacts,(c,l)=>(i(),C("div",{class:Q(["contact-form-area",{"contact-form-area-deleted":e(t).contacts[l].deletionMarked}]),key:l},[e(t).contacts[l].deletionMarked?(i(),b(A,{key:0,value:"To be deleted",class:"item"})):h("",!0),o(r,{label:"Address",prop:`contacts.${l}.address`,rules:e(m).address},{default:a(()=>[o(d,{modelValue:e(t).contacts[l].address,"onUpdate:modelValue":n=>e(t).contacts[l].address=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"Address Complement",prop:`contacts.${l}.address_complement`,rules:e(m).address_complement},{default:a(()=>[o(d,{modelValue:e(t).contacts[l].address_complement,"onUpdate:modelValue":n=>e(t).contacts[l].address_complement=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"Postal Code",prop:`contacts.${l}.postal_code`,rules:e(m).postal_code},{default:a(()=>[o(d,{class:"small-form-input",modelValue:e(t).contacts[l].postal_code,"onUpdate:modelValue":n=>e(t).contacts[l].postal_code=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"City",prop:`contacts.${l}.city`,rules:e(m).city},{default:a(()=>[o(d,{class:"small-form-input",modelValue:e(t).contacts[l].city,"onUpdate:modelValue":n=>e(t).contacts[l].city=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"State/Province",prop:`contacts.${l}.region`,rules:e(m).region},{default:a(()=>[o(d,{class:"small-form-input",modelValue:e(t).contacts[l].region,"onUpdate:modelValue":n=>e(t).contacts[l].region=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"Country",prop:`contacts.${l}.country`,rules:e(m).country},{default:a(()=>[o(d,{class:"small-form-input",modelValue:e(t).contacts[l].country,"onUpdate:modelValue":n=>e(t).contacts[l].country=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,{label:"Phone",prop:`contacts.${l}.phone`,rules:e(m).address},{default:a(()=>[o(d,{class:"small-form-input",modelValue:e(t).contacts[l].phone,"onUpdate:modelValue":n=>e(t).contacts[l].phone=n},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),o(r,null,{default:a(()=>[o(g,{type:"danger",icon:e(W),disabled:e(t).contacts[l].deletionMarked,onClick:n=>w(l)},{default:a(()=>[Z]),_:2},1032,["icon","disabled","onClick"])]),_:2},1024)],2))),128))])):h("",!0),o(r,null,{default:a(()=>[o(g,{icon:e(G),onClick:s[4]||(s[4]=c=>N())},{default:a(()=>[I]),_:1},8,["icon"]),e(_).hasContacts?(i(),b(g,{key:0,icon:e(H),onClick:s[5]||(s[5]=c=>U())},{default:a(()=>[x]),_:1},8,["icon"])):h("",!0),o(g,{type:"primary",icon:e(J),onClick:s[6]||(s[6]=c=>R(v.value))},{default:a(()=>[ee]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])}}};var ae=L(te,[["__scopeId","data-v-c6453ffa"]]);export{ae as S};
