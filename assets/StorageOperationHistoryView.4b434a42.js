import{u as $}from"./storage.be6d3a79.js";import{_ as j}from"./index.917c111f.js";import{e as L,f as s,L as z,o as i,g as y,h as o,w as t,u as r,X as E,F as v,W as k,M,c as w,p as Q,k as W,i as m,t as n,l as p,Y as X,Z as Y,T as Z}from"./vendor.2c85bd1e.js";import"./interceptor.bb9bfcba.js";const A=d=>(Q("data-v-787c2acf"),d=d(),W(),d),G=A(()=>m("h2",null,"Storage Operations History",-1)),J={class:"storage-description-label"},K={class:"storage-description-label"},P={setup(d){const _=$(),c=L({isLoading:!0,storageId:null,storageList:[]});_.fetchStorageList().then(()=>{c.isLoading=!1,c.storageList=_.storages});const u=L({isLoading:!0,history:[]}),S=(a=null)=>_.fetchOperationHistory(a).then(()=>{u.isLoading=!1,u.history=_.history});S();const b=({operation_type:a})=>{const[l,...g]=a;return l.toLocaleUpperCase(navigator.language)+g.join("")},I=({operation_type:a})=>{switch(a){case"deposit":return Z;case"withdraw":return Y;default:return X}},x=({operation_type:a})=>{switch(a){case"deposit":return"success";case"withdraw":return"danger";default:return"warning"}},V=a=>{S(a)};return(a,l)=>{const g=s("el-icon"),f=s("el-tag"),C=s("el-option"),H=s("el-select"),T=s("el-form-item"),B=s("el-form"),D=s("el-divider"),h=s("el-descriptions-item"),O=s("el-descriptions"),F=s("el-timeline-item"),N=s("el-timeline"),U=z("loading");return i(),y(v,null,[G,o(B,{inline:!0},{default:t(()=>[o(T,null,{default:t(()=>[o(H,{clearable:"",placeholder:"Select a storage",modelValue:r(c).storageId,"onUpdate:modelValue":l[0]||(l[0]=e=>r(c).storageId=e),onChange:l[1]||(l[1]=e=>V(e))},{prefix:t(()=>[o(g,{style:{"vertical-align":"middle"}},{default:t(()=>[o(r(E))]),_:1})]),default:t(()=>[(i(!0),y(v,null,k(r(c).storageList,e=>(i(),w(C,{key:e.id,label:`${e.name} (${e.code})`,value:e.id},{default:t(()=>[m("span",null,n(e.name),1),o(f,{class:"select-option-icon-position"},{default:t(()=>[p(n(e.code),1)]),_:2},1024)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),o(D),M((i(),w(N,null,{default:t(()=>[(i(!0),y(v,null,k(r(u).history,(e,q)=>(i(),w(F,{size:"large",key:q,icon:I(e),type:x(e),timestamp:new Date(e.created_at).toUTCString()},{default:t(()=>[o(O,{border:"",class:"timeline-description-max-width",title:b(e)},{default:t(()=>[o(h,{label:"Storage"},{default:t(()=>[m("span",J,n(e.stock.storage.name),1),o(f,null,{default:t(()=>[p(n(e.stock.storage.code),1)]),_:2},1024)]),_:2},1024),o(h,{label:"Item"},{default:t(()=>[m("span",K,n(e.stock.item.name),1),o(f,null,{default:t(()=>[p(n(e.stock.item.code),1)]),_:2},1024)]),_:2},1024),o(h,{label:"Quantity"},{default:t(()=>[p(n(e.quantity),1)]),_:2},1024)]),_:2},1032,["title"])]),_:2},1032,["icon","type","timestamp"]))),128))]),_:1})),[[U,r(u).isLoading]])],64)}}};var se=j(P,[["__scopeId","data-v-787c2acf"]]);export{se as default};
