import{u as S}from"./finance.0403ad60.js";import{r as w}from"./index.917c111f.js";import{r as N,e as c,f as l,o as p,c as v,w as a,h as n,u as t,g as $,W as q,F as P,B as R,s as U,l as B}from"./vendor.2c85bd1e.js";const j={name:[{required:!0,message:"Please, input the name",trigger:"blur"},{min:3,message:"Must have at least 3 characters",trigger:"blur"}],budgetGroupId:[{required:!0,message:"Please, select a budget group",trigger:"blur"}]},E=B("Back"),M=B("Submit"),z={props:{budgetCategory:Object},emits:["submit"],setup(k,{emit:y}){const C=k,g=S(),{id:h=null,name:V="",group:d=null}=C.budgetCategory||{},_=N(),r=c({id:h,name:V,budgetGroupId:d==null?void 0:d.id}),F=c(j),b=c({isLoading:!0});g.fetchBudgetGroupList().then(()=>b.isLoading=!1);const G=()=>w.push({path:"/dashboard/finance-management/budget-categories"}),I=u=>{!u||u.validate(e=>{if(!e)return!1;const{id:i,name:s,budgetGroupId:m}=u.model;y("submit",{id:i,name:s,group:{id:m}})})};return(u,e)=>{const i=l("el-input"),s=l("el-form-item"),m=l("el-option"),x=l("el-select"),f=l("el-button"),L=l("el-form");return p(),v(L,{"label-width":"120px",ref_key:"createBudgetCategoryFormRef",ref:_,model:t(r),rules:t(F)},{default:a(()=>[n(s,{label:"Name",prop:"name"},{default:a(()=>[n(i,{modelValue:t(r).name,"onUpdate:modelValue":e[0]||(e[0]=o=>t(r).name=o)},null,8,["modelValue"])]),_:1}),n(s,{label:"Budget Group",prop:"budgetGroupId"},{default:a(()=>[n(x,{placeholder:"Select a budget group",modelValue:t(r).budgetGroupId,"onUpdate:modelValue":e[1]||(e[1]=o=>t(r).budgetGroupId=o),loading:t(b).isLoading},{default:a(()=>[(p(!0),$(P,null,q(t(g).budgetGroups,o=>(p(),v(m,{key:o.id,label:`${o.name}`,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),_:1}),n(s,null,{default:a(()=>[n(f,{icon:t(R),onClick:e[2]||(e[2]=o=>G())},{default:a(()=>[E]),_:1},8,["icon"]),n(f,{type:"primary",icon:t(U),onClick:e[3]||(e[3]=o=>I(_.value))},{default:a(()=>[M]),_:1},8,["icon"])]),_:1})]),_:1},8,["model","rules"])}}};export{z as _};
