var h=Object.defineProperty;var i=Object.getOwnPropertySymbols;var o=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable;var c=(e,s,t)=>s in e?h(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,a=(e,s)=>{for(var t in s||(s={}))o.call(s,t)&&c(e,t,s[t]);if(i)for(var t of i(s))y.call(s,t)&&c(e,t,s[t]);return e};var v=(e,s)=>{var t={};for(var d in e)o.call(e,d)&&s.indexOf(d)<0&&(t[d]=e[d]);if(e!=null&&i)for(var d of i(e))s.indexOf(d)<0&&y.call(e,d)&&(t[d]=e[d]);return t};import{d as u}from"./vendor.2c85bd1e.js";import{s as p,r as D,g as L}from"./index.cefb1522.js";import{u as f}from"./index.917c111f.js";const A=f(),S=A.bearerToken;p(()=>A.logout());const r=L(S),g=u({id:"huitzilopochtli-delivery-address",state:()=>({deliveryAddressList:{},selectedDeliveryAddress:null}),getters:{deliveryAddresses:e=>Object.values(e.deliveryAddressList)},actions:{async fetchDeliveryAddressList(e=null){const{data:s}=await r.fetchDeliveryAddressList(e);this.$patch(t=>t.deliveryAddressList=D(s.data))},async fetchOneDeliveryAddress(e){if(this.deliveryAddressList[e]){this.$patch(t=>t.selectedDeliveryAddress=this.deliveryAddressList[e]);return}const{data:s}=await r.fetchDeliveryAddress(e);this.$patch(t=>t.selectedDeliveryAddress=a({id:s.data.id},s.data.attributes))},async createDeliveryAddress(e){const{data:s}=await r.createDeliveryAddress(e);this.$patch(t=>t.deliveryAddressList[s.data.id]=a({id:s.data.id},s.data))},async updateDeliveryAddress(t){var d=t,{id:e}=d,s=v(d,["id"]);const l=a({id:e},s);await r.updateDeliveryAddress(l),this.$patch(n=>n.deliveryAddressList[e]=l)},async deleteDeliveryAddress(e){await r.deleteDeliveryAddress(e),this.$patch(s=>delete s.deliveryAddressList[e])}}});export{g as u};
