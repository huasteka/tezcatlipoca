import{_ as j,r as z}from"./index.917c111f.js";import{r as E,e as f,f as p,o as i,c as h,w as s,h as l,u as e,g as y,F as O,W as Q,$ as W,Q as C,U as G,B as H,T as J,s as K,l as V}from"./vendor.2c85bd1e.js";const X={name:[{required:!0,message:"Please, input the name",trigger:"blur"},{min:3,message:"Must have at least 3 characters",trigger:"blur"}],trade_name:[{required:!0,message:"Please, input the company's trade name",trigger:"blur"},{min:2,message:"Must have at least 3 characters",trigger:"blur"}],legal_document_code:[{required:!0,message:"Please, input the legal document",trigger:"blur"}]},Y={phone:[{required:!0,message:"Please, input the phone",trigger:"blur"}],address:[{required:!0,message:"Please, input the address",trigger:"blur"}],postal_code:[{required:!0,message:"Please, input the postal code",trigger:"blur"}],city:[{required:!0,message:"Please, input the city",trigger:"blur"}],region:[{required:!0,message:"Please, input the state/province",trigger:"blur"}],country:[{required:!0,message:"Please, input the country",trigger:"blur"}]};const Z={key:0},I=V("Delete Contact"),x=V("Back"),ee=V("Add Contact"),te=V("Submit"),le={props:{supplier:Object},emits:["submit"],setup(P,{emit:S}){const $=P,{id:q=null,name:F="",trade_name:B="",legal_document_code:M="",contacts:v=[]}=$.supplier||{},k=E(),t=f({id:q,name:F,trade_name:B,legal_document_code:M,contacts:v}),b=f(X),m=f(Y),_=f({hasContacts:v.length>0}),U=()=>{t.contacts.push({phone:"",address:"",address_complement:"",postal_code:"",city:"",region:"",country:""})},w=c=>{if(t.contacts[c].id){t.contacts[c].deletionMarked=!0;return}t.contacts.splice(c,1),t.contacts.length===0&&(_.hasContacts=!1)},N=c=>{if(c){U();return}t.contacts=[]},T=()=>z.push({path:"/dashboard/sales-management/suppliers"}),R=c=>{!c||c.validate(o=>{if(!o)return!1;S("submit",c.model)})};return(c,o)=>{const d=p("el-input"),n=p("el-form-item"),A=p("el-switch"),D=p("el-badge"),g=p("el-button"),L=p("el-form");return i(),h(L,{"label-width":"160px",ref_key:"createSupplierFormRef",ref:k,model:e(t)},{default:s(()=>[l(n,{label:"Name",prop:"name",rules:e(b).name},{default:s(()=>[l(d,{modelValue:e(t).name,"onUpdate:modelValue":o[0]||(o[0]=u=>e(t).name=u)},null,8,["modelValue"])]),_:1},8,["rules"]),l(n,{label:"Trade Name",prop:"trade_name",rules:e(b).trade_name},{default:s(()=>[l(d,{modelValue:e(t).trade_name,"onUpdate:modelValue":o[1]||(o[1]=u=>e(t).trade_name=u)},null,8,["modelValue"])]),_:1},8,["rules"]),l(n,{label:"Legal Document",prop:"legal_document_code",rules:e(b).legal_document_code},{default:s(()=>[l(d,{modelValue:e(t).legal_document_code,"onUpdate:modelValue":o[2]||(o[2]=u=>e(t).legal_document_code=u)},null,8,["modelValue"])]),_:1},8,["rules"]),l(n,{label:"Contacts"},{default:s(()=>[l(A,{modelValue:e(_).hasContacts,"onUpdate:modelValue":o[3]||(o[3]=u=>e(_).hasContacts=u),onChange:o[4]||(o[4]=u=>N(u))},null,8,["modelValue"])]),_:1}),e(_).hasContacts?(i(),y("div",Z,[(i(!0),y(O,null,Q(e(t).contacts,(u,a)=>(i(),y("div",{class:W(["contact-form-area",{"contact-form-area-deleted":e(t).contacts[a].deletionMarked}]),key:a},[e(t).contacts[a].deletionMarked?(i(),h(D,{key:0,value:"To be deleted",class:"item"})):C("",!0),l(n,{label:"Address",prop:`contacts.${a}.address`,rules:e(m).address},{default:s(()=>[l(d,{modelValue:e(t).contacts[a].address,"onUpdate:modelValue":r=>e(t).contacts[a].address=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"Address Complement",prop:`contacts.${a}.address_complement`,rules:e(m).address_complement},{default:s(()=>[l(d,{modelValue:e(t).contacts[a].address_complement,"onUpdate:modelValue":r=>e(t).contacts[a].address_complement=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"Postal Code",prop:`contacts.${a}.postal_code`,rules:e(m).postal_code},{default:s(()=>[l(d,{class:"small-form-input",modelValue:e(t).contacts[a].postal_code,"onUpdate:modelValue":r=>e(t).contacts[a].postal_code=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"City",prop:`contacts.${a}.city`,rules:e(m).city},{default:s(()=>[l(d,{class:"small-form-input",modelValue:e(t).contacts[a].city,"onUpdate:modelValue":r=>e(t).contacts[a].city=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"State/Province",prop:`contacts.${a}.region`,rules:e(m).region},{default:s(()=>[l(d,{class:"small-form-input",modelValue:e(t).contacts[a].region,"onUpdate:modelValue":r=>e(t).contacts[a].region=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"Country",prop:`contacts.${a}.country`,rules:e(m).country},{default:s(()=>[l(d,{class:"small-form-input",modelValue:e(t).contacts[a].country,"onUpdate:modelValue":r=>e(t).contacts[a].country=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,{label:"Phone",prop:`contacts.${a}.phone`,rules:e(m).address},{default:s(()=>[l(d,{class:"small-form-input",modelValue:e(t).contacts[a].phone,"onUpdate:modelValue":r=>e(t).contacts[a].phone=r},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["prop","rules"]),l(n,null,{default:s(()=>[l(g,{type:"danger",icon:e(G),disabled:e(t).contacts[a].deletionMarked,onClick:r=>w(a)},{default:s(()=>[I]),_:2},1032,["icon","disabled","onClick"])]),_:2},1024)],2))),128))])):C("",!0),l(n,null,{default:s(()=>[l(g,{icon:e(H),onClick:o[5]||(o[5]=u=>T())},{default:s(()=>[x]),_:1},8,["icon"]),e(_).hasContacts?(i(),h(g,{key:0,icon:e(J),onClick:o[6]||(o[6]=u=>U())},{default:s(()=>[ee]),_:1},8,["icon"])):C("",!0),l(g,{type:"primary",icon:e(K),onClick:o[7]||(o[7]=u=>R(k.value))},{default:s(()=>[te]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"])}}};var se=j(le,[["__scopeId","data-v-53c0e649"]]);export{se as S};
