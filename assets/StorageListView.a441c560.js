import{e as $,f as n,L as z,o as g,g as B,M as D,u as o,c as w,w as t,h as e,S as p,T as b,Q as I,N as E,U as M,F as U,p as A,k as F,i as l,V as P}from"./vendor.2c85bd1e.js";import{_ as Q,r as h,N as S}from"./index.917c111f.js";import{u as T}from"./storage.be6d3a79.js";import"./interceptor.bb9bfcba.js";const r=d=>(A("data-v-d5fb38e2"),d=d(),F(),d),j=r(()=>l("h2",null,"List storages",-1)),q=r(()=>l("span",null,"New",-1)),G=r(()=>l("span",null,"Add",-1)),H=r(()=>l("span",null,"Update",-1)),J=r(()=>l("span",null,"Delete",-1)),K={setup(d){const u=T(),m=$({isLoading:!0});u.fetchStorageList().then(()=>{m.isLoading=!1});const k=()=>{h.push({path:"/dashboard/storage-management/storages/new"})},C=a=>{h.push({path:`/dashboard/storage-management/storages/${a.id}/add`})},y=a=>{h.push({path:`/dashboard/storage-management/storages/${a.id}/edit`})},N=a=>{P.confirm("Are you sure to delete this storage?").then(()=>{u.deleteStorage(a.id).then(()=>S.notifySuccess("Storage deleted")).catch(()=>S.notifyError("Could not delete storage"))}).catch(()=>null)};return(a,f)=>{const i=n("el-table-column"),c=n("el-icon"),_=n("el-button"),L=n("el-button-group"),x=n("el-table"),V=z("loading");return g(),B(U,null,[j,D((g(),w(x,{class:"resize-and-center-data-table","row-key":"id",data:o(u).storages},{default:t(()=>[e(i,{width:"100",prop:"id",label:"#"}),e(i,{prop:"code",label:"Code"}),e(i,{prop:"name",label:"Name"}),e(i,{width:"250"},{header:t(()=>[e(_,{class:"align-content-right",type:"primary",size:"small",onClick:f[0]||(f[0]=p(s=>k(),["prevent"]))},{default:t(()=>[e(c,null,{default:t(()=>[e(o(b))]),_:1}),q]),_:1})]),default:t(s=>[e(L,{class:"align-content-right"},{default:t(()=>[s.row.parent_id===void 0?(g(),w(_,{key:0,type:"primary",size:"small",onClick:p(v=>C(s.row),["prevent"])},{default:t(()=>[e(c,null,{default:t(()=>[e(o(b))]),_:1}),G]),_:2},1032,["onClick"])):I("",!0),e(_,{size:"small",onClick:p(v=>y(s.row),["prevent"])},{default:t(()=>[e(c,null,{default:t(()=>[e(o(E))]),_:1}),H]),_:2},1032,["onClick"]),e(_,{type:"danger",size:"small",onClick:p(v=>N(s.row),["prevent"])},{default:t(()=>[e(c,null,{default:t(()=>[e(o(M))]),_:1}),J]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"])),[[V,o(m).isLoading]])],64)}}};var Y=Q(K,[["__scopeId","data-v-d5fb38e2"]]);export{Y as default};
